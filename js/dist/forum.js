(()=>{var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};(()=>{"use strict";t.r(e),t.d(e,{common:()=>d,extend:()=>l});const r=flarum.core.compat["forum/app"];var n=t.n(r);const o=flarum.core.compat["common/extenders"];var a=t.n(o);const u=flarum.core.compat["common/models/User"];var i=t.n(u),l=[new(a().Model)(i()).attribute("flamarktPhoneNumber")];function s(t,e){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},s(t,e)}const p=flarum.core.compat["common/Component"];var f=function(t){var e,r;function n(){return t.apply(this,arguments)||this}return r=t,(e=n).prototype=Object.create(r.prototype),e.prototype.constructor=e,s(e,r),n.prototype.view=function(){var t=this;return m("input.FormControl",{id:this.attrs.id,type:"text",value:this.attrs.value,onchange:function(e){null==t.attrs.onchange||t.attrs.onchange(e.target.value)},readonly:this.attrs.readonly,disabled:this.attrs.disabled,required:this.attrs.required})},n}(t.n(p)()),d={"components/PhoneNumberInput":f};const c=flarum.core.compat["common/extend"],h=((flarum.extensions["flamarkt-identity"]||{}).forum||{})["layouts/IdentityLayout"];var b=t.n(h);const y=flarum.core.compat["forum/components/SignUpModal"];var g=t.n(y);n().initializers.add("flamarkt-phone-number",(function(){b()&&((0,c.extend)(b().prototype,"oninit",(function(){var t=n().session.user;this.phoneNumber=t&&t.attribute("canEditFlamarktPhoneNumber")?t.attribute("flamarktPhoneNumber")||"":null})),(0,c.extend)(b().prototype,"fields",(function(t){var e=this;"string"==typeof this.phoneNumber&&t.add("flamarkt-phone-number",m(".Form-group",[m("label",{for:"flamarkt-identity-phone-number"},n().translator.trans("flamarkt-phone-number.lib.field.phoneNumber")),f.component({id:"flamarkt-identity-phone-number",value:this.phoneNumber,onchange:function(t){e.phoneNumber=t,e.dirty=!0},disabled:this.saving})]))})),(0,c.extend)(b().prototype,"data",(function(t){"string"==typeof this.phoneNumber&&(t.flamarktPhoneNumber=this.phoneNumber)}))),(0,c.extend)(g().prototype,"oninit",(function(){this.flamarktPhoneNumber=n().forum.attribute("flamarktPhoneNumberOnSignup")?"":null})),(0,c.extend)(g().prototype,"fields",(function(t){var e=this;"string"==typeof this.flamarktPhoneNumber&&t.add("flamarkt-phone-number",m(".Form-group",[m("label",{for:"flamarkt-signup-phone-number"},n().translator.trans("flamarkt-phone-number.lib.field.phoneNumber")),f.component({id:"flamarkt-signup-phone-number",value:this.flamarktPhoneNumber,onchange:function(t){e.flamarktPhoneNumber=t},disabled:this.loading,required:"required"===n().forum.attribute("flamarktPhoneNumberOnSignup"),user:n().session.user})]))})),(0,c.extend)(g().prototype,"submitData",(function(t){"string"==typeof this.flamarktPhoneNumber&&(t.flamarktPhoneNumber=this.flamarktPhoneNumber)}))}))})(),module.exports=e})();
//# sourceMappingURL=forum.js.map